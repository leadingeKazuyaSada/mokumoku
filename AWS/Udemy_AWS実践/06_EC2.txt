EC2 はアンマネージド

インスタンスタイプ
	- ファミリー+世代.容量 (t2.nano)

リザーブドインスタンス
	- 1年または3年の利用を予約して購入する (割引となる)
	- コンバーティブル
		- ファミリー、OS タイプ、テナンシーを変更可能。
	- スタンダード
		- 変更不可。

ハードウェア専有インスタンス = Dedicated Instance
	- Dedicated Host と混同しないこと
	- 専有といっても同じ AWS アカウントとは共有する可能性あり

EC2 から別の EC2 に ssh する
	> ssh ec2-user@<プライベート IP アドレス> -i <pem ファイル名>

NATゲートウェイを削除したら、Elastic IP アドレスも削除 (開放) するべき。
	- 割り当てられていない Elastic IP アドレスには課金される。

フリートリクエスト
	- 複数のスポットインスタンスを起動するリクエスト
	- フリートの配分戦略を決められる

- スポットインスタンスを削除する場合は、先にリクエストを削除するべき。

スポットブロック
	- スポットブロックを指定すると、突然止まらないようにできる。

Savings Plans
	- 一定の利用量 (キャパシティ) を1年または3年分、あらかじめ購入する。
		- ファミリーを指定する。サイズは変更可能。
	- Compute Saving Plans: EC2 以外 (ファーゲート、ラムダ) も購入
	- EC2 Instance Savings Plans: EC2 のみ

専有ホスト
	- 物理サーバを専有できる
	- ハードウェア専有インスタンスと違って、同じ AWS アカウント内のインスタンスとも共有することがない。

キャパシティーの予約
	- 割引のためでなく、エラーを抑えるために予約する。

作った AMI を別リージョンで使うには、コピーする必要がある。

ゴールデンイメージ
	- (ある目的に) 最適な構成の AMI

EC2 Image Builder
	- AMI の中身のバージョンアップを自動化する。
	- イメージパイプラインを作って、スケジュールやイメージレシピを設定する。

EBS もインスタンスストアも、ブロックストレージ
EBS はデフォルトで冗長化されている (ただし単一の AZ 内)
EBS は、セキュリティグループで全ポートを閉じてもアクセス可能
EBS は、複数の EC2 インスタンスで共用できない (プロビジョンド IOPS は別)
EBS は、AZ に属する (同じ AZ 内の他の EC2 インスタンスに付け替え可能)

EBS のボリュームタイプ
	- 汎用 SSD
	- プロビジョンド IOPS
	- スループット最適化 HDD (ブートボリューム不可)
	- コールド HDD (ブートボリューム不可)
	- マグネティック

EBS のスナップショット
	- S3 に保存される
	- 増分スナップショット
	- DLM を用いてスケジューリング可能
	- リージョンに属するので別リージョンで使う場合はコピーする
	- AMI を作れば EBS のスナップショットも含まれる

ルートボリュームをデタッチする場合
	- インスタンスを停止して、強制デタッチをする。

DLM (データライフサイクルマネージャ)
	- EBS スナップショットの作成、保持、コピー、削除を自動化
	- EBS-backed AMI も対象にできる。
	- 他のリージョンにコピーを作るようにもできる (転送料金がかかる)。
	- スナップショットが溜まってくると (S3 の) 料金がかかる。

EBS-backed AMI
	- EBS をルートボリュームとする AMI

プレイスメントグループ
	- クラスタープレイスメントグループ
		- パフォーマンス向上
		- インスタンス間通信が向上する。
	- パーティションプレイスメントグループ
		- 耐障害性を向上
		- ラックを分けることでハードウェア障害の影響を軽減
	- スプレッドプレイスメントグループ
		- 耐障害性を向上
		- ラックを分けることでハードウェア障害の影響を軽減

プレイスメントグループを作れるインスタンスタイプに制限がある。
プレイスメントグループは、インスタンスの作成前に作る必要がある。
	- 既存のインスタンスを後からプレイスメントグループに追加できない。
