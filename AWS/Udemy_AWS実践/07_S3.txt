アクセスポイントを作って、アプリケーションからデータにアクセスさせる。
アクセス制限設定できる。

アクセスアナライザー
IAM のアクセスアナライザーに連動

ライフサイクル

S3 はデフォルトでマルチ AZ だが、リージョンを跨いだレプリケーションも可能。
双方向も可能。

バージョン管理
過去のバージョンから一部のデータを復旧できる。
容量を圧迫するので、ライフサイクルで古いバージョンを削除する。

イベントトリガーにより、SNS/SQS/Lambda にメッセージ通知可能。

検索
- S3 Select
	- クエリで検索
- Amazon Athena
	- より高度なクエリ、機械学習による分析も可能。
- Amazon Macie
	- 機密データ検出
- Amazon Redshift Spectrum
	- Redshift からクエリを実行

マルチパートアップロード
- 最大 5TB のデータをアップ可能
- 1～10000パート (各5MB～5GB) に分割
- クリーンアップが必要

バッチオペレーション
データレイク？

ブロックパブリックアクセス
- ブロックを解除するとインターネットからアクセスできる。

Storage Lens
- 利用状況の解析、可視化

暗号化
- SSE-S3 (S3 が勝手にやる)
- SSE-KMS (ユーザが鍵を管理)
- SSE-C (ユーザが作った鍵を使う。コンソールからは選べない)

バケット作成時にオブジェクトロックすると、変更・削除ができなくなる

リクエスタ支払い
- データをダウンロードしたアカウントに転送料を課金する

アクセスコントロールリスト (ACL) を使うと、オブジェクト単位でアクセス制御できる。

インターネットから URL を叩いてオブジェクトにアクセスするには、バケットのブロック解除と、オブジェクトごとの公開設定が必要。

バージョニングを有効にすると、オブジェクトを削除した時に「削除マーカー」が最新バージョンとなる。削除マーカーを削除すると、前のバージョンが現行バージョンとなる。つまり復活させることができる。

バージョンを削除する時に MFA が必要となるように設定することができる。
この設定は CLI, SDK, API からでないとできない。

静的 Web ホスティングをする場合は、公開設定の他に、バケットポリシーを設定する必要がある。

レプリケーションをするにはバージョニングが必要。
バージョニングと同じトリガでレプリケーションされる (少しラグがある)。
レプリケーションを開始する時に、レプリケーション先と元のフォルダ構成が一致している必要がある。
> CLI 等から cp コマンドでコピーする。

？レプリケーションルールの作成時にステータスを有効にする？

S3 のアクセスアナライザーを使うには IAM のアクセスアナライザーを有効にする。
CloudTrail のログ解析と違って、何のポリシーでアクセスされたかを見る。

AWS Storage Gateway
- オンプレからバックアップする等の用途で使う。
- オンプレ側から AWS の機能・ツールを使えるのが利点。
- ファイルゲートウェイ
	- ファイルを S3 のオブジェクトとして転送する。
- ボリュームゲートウェイ
	- ディスクのスナップショットを S3 に転送する。
	- EBS へのリストアも可能。
- テープゲートウェイ
	- Virtual Tape Library を使って S3 および Gracier に格納。

S3 Transfer Acceleration
	- クライアントと S3 バケットの間で、長距離にわたるファイル転送を高速、簡単、安全に行えるようになる。

Amazon S3 Glacier
- アーカイブ目的であり、新規オブジェクトを登録することはできない。
- 「ボールト」に対して「アーカイブ」を保存する。
- ボールトはリージョンに作成する。
- アーカイブのサイズは 40TB まで。個数は無制限。
- アーカイブは上書きできない。
- コンソールからアップロードできない。
- ボールトは AWS アカウントごとに1000個まで。
- 最低保持期間は90日。
- データ取り出しタイプ
	- 迅速
	- 標準
	- 大容量
- アクセス管理
	- IAM ポリシー
	- ボールトポリシー
	- データ取り出しポリシー
	- ボールトロッックポリシー
	- 署名

Glacier Deep Archive
